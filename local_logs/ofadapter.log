Sending build context to Docker daemon  4.096kB
Step 1/18 : ARG from=precice/precice-ubuntu1804.home-develop
Step 2/18 : ARG base_solver=precice/openfoam.ubuntu1804
Step 3/18 : FROM ${base_solver} as openfoam
latest: Pulling from precice/openfoam.ubuntu1804
7ddbc47eeb70: Pulling fs layer
c1bbdc448b72: Pulling fs layer
8c3b70e39044: Pulling fs layer
45d437916d57: Pulling fs layer
1d6f1518855e: Pulling fs layer
446c3935c1b3: Pulling fs layer
c01529791431: Pulling fs layer
45d437916d57: Waiting
1d6f1518855e: Waiting
446c3935c1b3: Waiting
c01529791431: Waiting
c1bbdc448b72: Download complete
8c3b70e39044: Verifying Checksum
45d437916d57: Verifying Checksum
45d437916d57: Download complete
7ddbc47eeb70: Verifying Checksum
7ddbc47eeb70: Download complete
446c3935c1b3: Verifying Checksum
446c3935c1b3: Download complete
7ddbc47eeb70: Pull complete
c1bbdc448b72: Pull complete
8c3b70e39044: Pull complete
45d437916d57: Pull complete
1d6f1518855e: Verifying Checksum
1d6f1518855e: Download complete
1d6f1518855e: Pull complete
446c3935c1b3: Pull complete
c01529791431: Verifying Checksum
c01529791431: Download complete
c01529791431: Pull complete
Digest: sha256:cf66163c21b9a3e36b0cd5a143ce8965193485d4fff96aaa9c132d190db80e77
Status: Downloaded newer image for precice/openfoam.ubuntu1804:latest
 ---> 72189ef69046
Step 4/18 : FROM $from
 ---> 14de4c7396e3
Step 5/18 : USER root
 ---> Running in 4ab27d55f996
Removing intermediate container 4ab27d55f996
 ---> 0df526d93d25
Step 6/18 : ENV USER=root
 ---> Running in 716a9b23b8f8
Removing intermediate container 716a9b23b8f8
 ---> 6eb077645ce3
Step 7/18 : RUN apt-get -qq update && apt-get -qq install     software-properties-common     wget apt-transport-https &&     rm -rf /var/lib/apt/lists/*
 ---> Running in 5e1402f9b122
[91mdebconf: delaying package configuration, since apt-utils is not installed
[0mSelecting previously unselected package cron.
(Reading database ... (Reading database ... 5%(Reading database ... 10%(Reading database ... 15%(Reading database ... 20%(Reading database ... 25%(Reading database ... 30%(Reading database ... 35%(Reading database ... 40%(Reading database ... 45%(Reading database ... 50%(Reading database ... 55%(Reading database ... 60%(Reading database ... 65%(Reading database ... 70%(Reading database ... 75%(Reading database ... 80%(Reading database ... 85%(Reading database ... 90%(Reading database ... 95%(Reading database ... 100%(Reading database ... 39155 files and directories currently installed.)
Preparing to unpack .../00-cron_3.0pl1-128.1ubuntu1_amd64.deb ...
Unpacking cron (3.0pl1-128.1ubuntu1) ...
Selecting previously unselected package libapparmor1:amd64.
Preparing to unpack .../01-libapparmor1_2.12-4ubuntu5.1_amd64.deb ...
Unpacking libapparmor1:amd64 (2.12-4ubuntu5.1) ...
Selecting previously unselected package libdbus-1-3:amd64.
Preparing to unpack .../02-libdbus-1-3_1.12.2-1ubuntu1.2_amd64.deb ...
Unpacking libdbus-1-3:amd64 (1.12.2-1ubuntu1.2) ...
Selecting previously unselected package dbus.
Preparing to unpack .../03-dbus_1.12.2-1ubuntu1.2_amd64.deb ...
Unpacking dbus (1.12.2-1ubuntu1.2) ...
Selecting previously unselected package distro-info-data.
Preparing to unpack .../04-distro-info-data_0.37ubuntu0.7_all.deb ...
Unpacking distro-info-data (0.37ubuntu0.7) ...
Selecting previously unselected package libapt-inst2.0:amd64.
Preparing to unpack .../05-libapt-inst2.0_1.6.12ubuntu0.1_amd64.deb ...
Unpacking libapt-inst2.0:amd64 (1.6.12ubuntu0.1) ...
Selecting previously unselected package lsb-release.
Preparing to unpack .../06-lsb-release_9.20170808ubuntu1_all.deb ...
Unpacking lsb-release (9.20170808ubuntu1) ...
Selecting previously unselected package python3-dbus.
Preparing to unpack .../07-python3-dbus_1.2.6-1_amd64.deb ...
Unpacking python3-dbus (1.2.6-1) ...
Selecting previously unselected package python3-gi.
Preparing to unpack .../08-python3-gi_3.26.1-2ubuntu1_amd64.deb ...
Unpacking python3-gi (3.26.1-2ubuntu1) ...
Selecting previously unselected package ucf.
Preparing to unpack .../09-ucf_3.0038_all.deb ...
Moving old data out of the way
Unpacking ucf (3.0038) ...
Selecting previously unselected package iso-codes.
Preparing to unpack .../10-iso-codes_3.79-1_all.deb ...
Unpacking iso-codes (3.79-1) ...
Selecting previously unselected package powermgmt-base.
Preparing to unpack .../11-powermgmt-base_1.33_all.deb ...
Unpacking powermgmt-base (1.33) ...
Selecting previously unselected package python-apt-common.
Preparing to unpack .../12-python-apt-common_1.6.5ubuntu0.3_all.deb ...
Unpacking python-apt-common (1.6.5ubuntu0.3) ...
Selecting previously unselected package python3-apt.
Preparing to unpack .../13-python3-apt_1.6.5ubuntu0.3_amd64.deb ...
Unpacking python3-apt (1.6.5ubuntu0.3) ...
Selecting previously unselected package apt-transport-https.
Preparing to unpack .../14-apt-transport-https_1.6.12ubuntu0.1_all.deb ...
Unpacking apt-transport-https (1.6.12ubuntu0.1) ...
Selecting previously unselected package python3-software-properties.
Preparing to unpack .../15-python3-software-properties_0.96.24.32.13_all.deb ...
Unpacking python3-software-properties (0.96.24.32.13) ...
Selecting previously unselected package software-properties-common.
Preparing to unpack .../16-software-properties-common_0.96.24.32.13_all.deb ...
Unpacking software-properties-common (0.96.24.32.13) ...
Selecting previously unselected package unattended-upgrades.
Preparing to unpack .../17-unattended-upgrades_1.1ubuntu1.18.04.14_all.deb ...
Unpacking unattended-upgrades (1.1ubuntu1.18.04.14) ...
Setting up python-apt-common (1.6.5ubuntu0.3) ...
Setting up libapt-inst2.0:amd64 (1.6.12ubuntu0.1) ...
Setting up powermgmt-base (1.33) ...
Setting up apt-transport-https (1.6.12ubuntu0.1) ...
Setting up python3-apt (1.6.5ubuntu0.3) ...
Setting up iso-codes (3.79-1) ...
Setting up distro-info-data (0.37ubuntu0.7) ...
Setting up python3-gi (3.26.1-2ubuntu1) ...
Setting up lsb-release (9.20170808ubuntu1) ...
Setting up ucf (3.0038) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline
Setting up libapparmor1:amd64 (2.12-4ubuntu5.1) ...
Setting up python3-software-properties (0.96.24.32.13) ...
Setting up cron (3.0pl1-128.1ubuntu1) ...
Adding group `crontab' (GID 103) ...
Done.
update-rc.d: warning: start and stop actions are no longer supported; falling back to defaults
invoke-rc.d: could not determine current runlevel
invoke-rc.d: policy-rc.d denied execution of start.
Setting up libdbus-1-3:amd64 (1.12.2-1ubuntu1.2) ...
Setting up python3-dbus (1.2.6-1) ...
Setting up unattended-upgrades (1.1ubuntu1.18.04.14) ...
debconf: unable to initialize frontend: Dialog
debconf: (TERM is not set, so the dialog frontend is not usable.)
debconf: falling back to frontend: Readline

Creating config file /etc/apt/apt.conf.d/20auto-upgrades with new version

Creating config file /etc/apt/apt.conf.d/50unattended-upgrades with new version
Setting up dbus (1.12.2-1ubuntu1.2) ...
Setting up software-properties-common (0.96.24.32.13) ...
Processing triggers for libc-bin (2.27-3ubuntu1) ...
Processing triggers for dbus (1.12.2-1ubuntu1.2) ...
Removing intermediate container 5e1402f9b122
 ---> 90d825472a6e
Step 8/18 : ARG CACHEBUST
 ---> Running in ec498a0d94db
Removing intermediate container ec498a0d94db
 ---> f28d82910558
Step 9/18 : COPY --from=openfoam /opt/openfoam5 /opt/openfoam5/
 ---> e708d54fad45
Step 10/18 : USER precice
 ---> Running in 27d2ee868246
Removing intermediate container 27d2ee868246
 ---> 2b6d231d046e
Step 11/18 : SHELL ["/bin/bash", "-c"]  # without this command /opt/openfoam5/etc/bashrc cannot be sourced
 ---> Running in 7a667b638965
Removing intermediate container 7a667b638965
 ---> c12ff9a87f2a
Step 12/18 : WORKDIR /home/precice
 ---> Running in 68343c1c1a9e
Removing intermediate container 68343c1c1a9e
 ---> 88e5d290bfde
Step 13/18 : RUN mkdir -p Logs Data/Input Data/Output Data/Exchange
 ---> Running in c18eee0030e0
Removing intermediate container c18eee0030e0
 ---> 72163d320079
Step 14/18 : ARG branch=develop
 ---> Running in f1b81236ca44
Removing intermediate container f1b81236ca44
 ---> e5469d3afbde
Step 15/18 : RUN git clone  --branch $branch https://github.com/precice/openfoam-adapter.git
 ---> Running in a0f7123e79df
[91mCloning into 'openfoam-adapter'...
[0mRemoving intermediate container a0f7123e79df
 ---> 5f5a6397daeb
Step 16/18 : WORKDIR /home/precice/openfoam-adapter
 ---> Running in a82ce399abc1
Removing intermediate container a82ce399abc1
 ---> a2eb1d9ef999
Step 17/18 : RUN . /opt/openfoam5/etc/bashrc && ./Allwmake && cp wmake.log Allwmake.log ldd.log $HOME/Logs
 ---> Running in 7fafb98afd91
Building the OpenFOAM adapter for preCICE...

Current OpenFOAM environment:
  WM_PROJECT = OpenFOAM
  WM_PROJECT_VERSION = 5.0

The adapter will be built into:
  ADAPTER_TARGET_DIR    = /home/precice/OpenFOAM/root-5.0/platforms/linux64GccDPInt32Opt/lib

The following building options will be used:
  ADAPTER_PREP_FLAGS    = -DADAPTER_DEBUG_MODE
  ADAPTER_WMAKE_OPTIONS = 

Dependencies (preCICE) will be located using the following environment variables:
  ADAPTER_PRECICE_ROOT  = /home/precice/precice
      preCICE dependencies: not specified (ok if preCICE is built as a shared library)
  ADAPTER_PKG_CONFIG_CFLAGS       = -I/home/precice/precice-install/include
  ADAPTER_PKG_CONFIG_LIBS         = -L/home/precice/precice-install/lib -lprecice
  ADAPTER_GLOBAL_CPLUS_INC_PATHS  = -I/usr/include/eigen3 
  ADAPTER_GLOBAL_LD_LIBRARY_PATHS = -L/opt/ThirdParty-5.0/platforms/linux64Gcc/gperftools-svn/lib -L/opt/openfoam5/platforms/linux64GccDPInt32Opt/lib/openmpi-system -L/opt/ThirdParty-5.0/platforms/linux64GccDPInt32/lib/openmpi-system -L/usr/lib/x86_64-linux-gnu/openmpi/lib -L/home/precice/OpenFOAM/root-5.0/platforms/linux64GccDPInt32Opt/lib -L/opt/site/5.0/platforms/linux64GccDPInt32Opt/lib -L/opt/openfoam5/platforms/linux64GccDPInt32Opt/lib -L/opt/ThirdParty-5.0/platforms/linux64GccDPInt32/lib -L/opt/openfoam5/platforms/linux64GccDPInt32Opt/lib/dummy -L/home/precice/precice-install/lib -L/petsc/petsc-3.12.5/arch-linux2-c-debug/lib 
  ADAPTER_GLOBAL_LIBRARY_PATHS    = -L/home/precice/precice-install/lib 

Building with WMake (see the wmake.log log file)...

=== OK: Building completed successfully! ===
Next step: Run an example from the tutorials/ directory.
Removing intermediate container 7fafb98afd91
 ---> b627190bab16
Step 18/18 : ENV LD_LIBRARY_PATH="/usr/lib:${LD_LIBRARY_PATH}"
 ---> Running in ea01a1eb6888
Removing intermediate container ea01a1eb6888
 ---> ad42ceb7948f
[Warning] One or more build-args [adapter_branch] were not consumed
Successfully built ad42ceb7948f
Successfully tagged precice/openfoam-adapter-ubuntu1804.home.petsc-develop:latest
Building openfoam-adapter image with the following features: {'os': 'ubuntu1804', 'installation': 'home', 'petsc': 'yes'}
EXECUTING: docker build --network=host --file adapters/Dockerfile.openfoam-adapter.Ubuntu1804 --tag precice/openfoam-adapter-ubuntu1804.home.petsc-develop --build-arg branch=develop --build-arg adapter_branch=develop --build-arg from=precice/precice-ubuntu1804.home.petsc-develop .
